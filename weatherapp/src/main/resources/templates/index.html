<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Toronto Weather Dashboard</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light text-center">

<div class="container mt-5">
    <h1 class="mb-4">ðŸŒ¤ Toronto Weather Dashboard</h1>

    <p>Location: <strong>Latitude:</strong> <span th:text="${weather.latitude}"></span>,
       <strong>Longitude:</strong> <span th:text="${weather.longitude}"></span></p>

	
	<h3>Average Temperatures</h3>
	<table class="table table-bordered text-center mt-4">
	    <tr>
	    	<thead class="table-dark">
	        <th>Day</th>
		        <!-- Loop through the days to create header cells -->
		        <th th:each="entry : ${display.dayToAvg}" th:text="${entry.key}"></th>
	        </thead>
	    </tr>
	    <tr>
	        <td>Average Â°C</td>
	        <!-- Loop through the same entries to create temperature cells -->
	        <td th:each="entry : ${display.dayToAvg}" th:text="${#numbers.formatDecimal(entry.value, 1, 1)}"></td>
	    </tr>
	</table>


    <table class="table table-bordered text-center mt-4">
	    <thead class="table-dark">
	        <tr>
	            <th>Time</th>
	            <th th:each="day : ${display.dayToTemps.keySet()}" th:text="${day}"></th>
	        </tr>
	    </thead>
	    <tbody>
	        <tr th:each="time : ${display.allTimes}">
	            <td th:text="${time}"></td>
	            <td th:each="day : ${display.dayToTemps.keySet()}"
    				th:text="${display.dayToTemps.get(day)?.get(time) ?: '--'}"></td>
	        </tr>
	    </tbody>
	</table>
    
</div>

</body>
</html>
